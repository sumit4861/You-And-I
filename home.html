<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
  <div class="top">
    <div class="heading">
      <h1>MUSIFY</h1>
      <p>Enjoy the Music</p>
    </div>
    <ul class="nav">
      <li onclick="displayAll()">üéµ All Song</li>
      <li onclick="displayLiked()">‚ù§Ô∏è Liked</li>
      <li onclick="displayFav()">Favourite</li>
    </ul>
  </div>
  <div class="main">
    <div class="player">
      <h1 style="display: none;" id="index"></h1>
      <h2 id="title">Select a Song</h2>
      <img src="bg.jpg" id="songimg"><br>
      <audio id="myaudio">
        <source src="" type="audio/mpeg">
      </audio>
      <h3 id="movie"></h3>
      <ul class="control">
        <li>
          <button onclick="play()">‚ñ∂</button>
        </li>
        <li>
          <button onclick="pause()">‚è∏</button>
        </li>
        <li>
          <ul>
            <button onclick="addtolike()"></button>
            <button onclick="addtofav()">=+</button>
          </ul>
        </li>
      </ul>
    </div>
    <div class="songs">
      <div id="all">
      </div>
      <div id="liked">
      </div>
      <div id="fav">
      </div>
    </div>
  </div>
  <script>
    const curr = document.getElementById('myaudio');
    const currimg = document.getElementById('songimg');
    const songs = [
      {
        index:'0',
        title:"Ishq Wala Love",
        music:"ishqwalalove.m4a",
        image:"ishqwalalove.jpg",
        Movie: "Student of The Year"
      },
      {
        index:'1',
        title:"Dil to Baccha Hai ",
        music:"diltobacchahai.mp3",
        image:"diltobacchahai.jpg",
        Movie: "Ishqiya"
      },
      {
        index:'2',
        title:"Ajj Din chadeya ",
        image:"ajjdinchadeya.mp3",
        Movie: "Love Aaj Kal"
      },
      {
        index:'3',
        title:"Enna Sona",
        music:"ennasona.m4a",
        image:"ennasona.jpg",
        Movie: "Ok Jaanu",
      }
    ];
    const liked = [];
    function renderSongs() {
      const container = document.getElementById("all");
      container.innerHTML = "";

      songs.forEach((song, index) => {
        const item = document.createElement("div");
        item.className = "songitem";
        item.onclick =()=>load(index);
        const title = document.createElement("span");
        title.textContent = song.title;

        const like = document.createElement("button");
        like.className = "like-btn";
        like.innerHTML = "ü§ç";

        item.appendChild(title);
        container.appendChild(item);
      });
    }
    function addtolike(){
      const index = document.getElementById('index').textContent;
      const song = songs[index];

      if (!liked.some(s => s.title === song.title)) {
        liked.push(song);
        renderLikedSongs();
      }
    }
    function renderLikedSongs() {
      const container = document.getElementById("liked");
      container.innerHTML = "";

      liked.forEach((song,index) => {
        const item = document.createElement("div");
        item.className = "songitem";
        item.onclick =()=>load(song.index);
        const title = document.createElement("span");
        title.textContent = song.title;

        item.appendChild(title);
        container.appendChild(item);
      });
    }
    function load(i){
      const song = songs[i];
      document.getElementById('title').innerHTML = song.title;
      document.getElementById('movie').innerHTML = song.Movie;
      document.getElementById('songimg').src = song.image;
      document.getElementById('myaudio').src = song.music;
      document.getElementById('index').innerText = i;
      curr.play();
      currimg.classList.add("rotate");
    }
    function remove(i){
      liked.splice(i,1);
    }
    function displayAll(){
      let content = document.getElementById('all');
      let like = document.getElementById('liked');
      let fav = document.getElementById('fav');
      if(content.style.display === "none") {
        content.style.display = "block";
        like.style.display = "none";
        fav.style.display = "none";
      } else {
        content.style.display ="none";
      }
    }
    function displayLiked(){
      let content = document.getElementById('liked');
      let all = document.getElementById('all');
      let fav = document.getElementById('fav');
      if(content.style.display === "none") {
        content.style.display = "block";
        all.style.display = "none";
        fav.style.display = "none";
      } else {
        content.style.display ="none";
      }
    }
    function displayFav(){
      let content = document.getElementById('fav');
      let all = document.getElementById('all');
      let like = document.getElementById('liked');
      if(content.style.display === "none") {
        content.style.display = "block";
        all.style.display = "none";
        like.style.display = "none";
      } else {
        content.style.display ="none";
      }
    }
    function play() {
      let title=document.getElementById('title').textContent;
      if(title !== "Select a Song") {
        curr.play();
        currimg.classList.add("rotate");
      }
    }
    function pause (){
      let title=document.getElementById('title').textContent;
      if(title !== "Select a Song") {
        curr.pause ();
        currimg.classList.remove("rotate");
      }
    }
    renderSongs();
  </script>
</body>
</html>